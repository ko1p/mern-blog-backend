## MERN.BLOG.BACKEND

Бэкенд часть приложения-блога построенного на стеке: MongoDB + Expess + REACT + NodeJS.

## Запуск и настройка:

#### Клонируем приложение:

    https://github.com/ko1p/mern-blog-backend.git

#### Настройка:

Проект работает с MongoDB, по умолчанию захардкожена на удаленную базу данных.

#### Установка необходимых модулей

Введите в терминале следующие команды:

    npm install

#### Запуск приложения

В режиме production (необходима предварительная настройка)

    node run start

или в режиме разработки с функцией "Hot Reload"

    node run start:dev

### Список возможных запросов:

Перед началом работы необходима предварительная регистрация (POST/auth/register) и аутентификации (POST/auth/login).

**POST /auth/register**

Регистрация нового пользователя. В теле POST-запроса передаётся JSON-объект с именем, почтой, паролем пользователя, также можно указать ссылку на аватар:

```json
// JSON
{
  "fullName": "userName", // Обязательное поле, минимум 3 символа.
  "password": "123456789", // Обязательное поле, минимум 5 символов.
  "email": "email@email.ru", // Обязательное поле.
  "avatarUrl": "http://myurl.ru/avatar.jpg" // Необязательное поле.
}
```

**POST /auth/login**

Авторизация пользователя после регистрации. В теле POST-запроса передаётся JSON-объект с информацией указанной при регистрации:

```json
// JSON
{
  "email": "email@email.ru", // Обязательное поле.
  "password": "123456789" // Обязательное поле.
}
```

**GET /posts**

Сервер вернёт список всех созданных статей.

**GET /posts/:postId**

Сервер вернёт статью с определенным id.

**GET /tags**

Сервер вернёт список последних 5 тегов.

**GET /tags/:tag**

Надёт и вернёт все посты с данным тегом.

**GET /auth/me**

Сервер вернёт информацию о авторизованном пользователе.

**POST /posts**

Создание статьи. В теле POST-запроса передаётся JSON-объект с названием карточки и ссылкой на её изображение:

```json
// JSON
{
  "title": "Заголовок статьи", // Обязательное поле с заголовком статьи. Минимум 3 строчных символа.
  "text": "Текст статьи", // Обязательное поле с заголовком статьи. Минимум 3 строчных символа.
  "tags": "react, node, mern", // Необязательное поле с тегами через запятую.
  "imageUrl": "http://myurl.ru/avatar.jpg" // Необязательное поле c ссылокой на картинку статьи.
}
```

**PATCH /posts/:postId**

Редактирование поста.

```json
// JSON
{
  "title": "Новый текст заголовка", // Обязательное поле с новым заголовком.
  "text": "Новый текст поста.", // Обязательное поле с новым текстом статьи.
  "tags": "react, node, mern", // Необязательное поле с тегами через запятую.
  "imageUrl": "http://myurl.ru/avatar.jpg" // Необязательное поле c ссылокой на картинку статьи.
}
```

**DELETE /posts/:postId**

Сервер удалит статью по id.

**GET /auth/me**

Сервер вернёт информацию о авторизованном пользователе.

**GET /comments**

Сервер вернёт несколько свежих комментариев.

**POST /upload**

Сервер сохранить у себя на сервере картинку в папке `/uploads` c оригинальным названием файла.
Доступ к файлу: `http://localhost:4444/uploads/FILENAME.FILERES`

**POST /comments/:postId**

Добавление комментария по id поста.

```json
// JSON
{
  "text": "Какая интересная и информативная статья!", // Обязательное поле с текстом комментария
}
```

**PATCH /comments/:commentId**

Редактирование комментария по id.

```json
// JSON
{
  "text": "Какая интересная и информативная статья!", // Обязательное поле с текстом комментария
}
```

**DELETE /comments/:commentId**

Удаление комментария по id.


### Используемые технологии:

- JS
- Git
- Node.js (express)
- MongoDB
